<!doctype html>
<html lang="en" data-page="teacher-dashboard">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="./">
  <title>Cornerstone MTSS - Teacher Dashboard</title>
  <script src="./config.js"></script>
  <script src="./build-stamp.js?v=20260228d"></script>
  <link rel="icon" href="./favicon.ico" sizes="any">
  <link rel="stylesheet" href="./teacher-dashboard.css?v=20260228d">
</head>
<body class="teacher-dashboard">
  <main class="td-shell" id="td-shell">
    <header class="td-top td-surface">
      <div class="td-brand">
        <h1>Cornerstone MTSS</h1>
        <p>Teacher command center Â· Tier 1/2/3 actions</p>
      </div>
      <div class="td-search-wrap">
        <input id="td-student-search" list="td-student-options" placeholder="Search student (ex: SAS7A-03 or Ava)">
        <datalist id="td-student-options"></datalist>
        <button id="td-open-students" class="td-btn td-btn-ghost" type="button">Students</button>
        <button id="td-run-probe" class="td-btn td-btn-primary" type="button">Run 90-second Probe</button>
        <button id="td-import" class="td-btn td-btn-ghost" type="button">Import Sessions</button>
        <input id="td-import-input" type="file" accept=".json,application/json" hidden>
        <button id="td-export" class="td-btn td-btn-ghost" type="button">Export Progress</button>
      </div>
      <div class="td-tier-tabs" role="tablist" aria-label="Tier filter">
        <button data-tier-tab="tier1" class="td-tier-tab" type="button">Tier 1</button>
        <button data-tier-tab="tier2" class="td-tier-tab is-active" type="button">Tier 2</button>
        <button data-tier-tab="tier3" class="td-tier-tab" type="button">Tier 3</button>
      </div>
      <p id="td-status" class="td-status" aria-live="polite"></p>
    </header>

    <section class="td-main">
      <section class="td-stage td-surface">
        <div class="td-stage-head">
          <h2>Groups for Today</h2>
          <button id="td-start-admin-demo" class="td-btn td-btn-ghost" type="button">Admin Demo</button>
        </div>
        <div id="td-groups" class="td-groups"></div>

        <article class="td-today td-panel">
          <h3>Today's Move</h3>
          <p id="td-next-move">Search a student first to load the recommended move.</p>
          <button id="td-run-10" class="td-btn td-btn-primary" type="button" disabled>Run 10-min session</button>
        </article>

        <article class="td-recent td-panel">
          <h3>Recent Sessions</h3>
          <div id="td-recent-list" class="td-scroll"></div>
        </article>
      </section>

      <aside class="td-rail td-surface">
        <h2>Student Snapshot</h2>
        <div id="td-student-empty" class="td-empty">Search and select a student to view signals, confidence, and next step.</div>
        <div id="td-student-view" class="hidden">
          <p class="td-student-name" id="td-student-name">-</p>
          <div class="td-kpis">
            <div><span>Primary Need</span><strong id="td-need">-</strong></div>
            <div><span>Tier</span><strong id="td-tier">-</strong></div>
            <div><span>Confidence</span><strong id="td-confidence">-</strong></div>
            <div><span>Trend</span><strong id="td-trend">-</strong></div>
          </div>
          <p id="td-student-next" class="td-student-next">-</p>
          <button id="td-student-run" class="td-btn td-btn-primary" type="button">Run session for student</button>
        </div>

        <div id="td-probe-hud" class="td-probe-hud hidden" aria-live="polite">
          <div class="hud-head">Live probe capture</div>
          <div class="hud-row"><span>Constraint Respect</span><strong id="hud-constraint">0.00</strong></div>
          <div class="hud-row"><span>Vowel Variety</span><strong id="hud-vowel">0</strong></div>
          <div class="hud-row"><span>Repeat Error Rate</span><strong id="hud-repeat">0.00</strong></div>
          <div class="hud-row"><span>Decision Time (ms)</span><strong id="hud-time">0</strong></div>
        </div>
      </aside>
    </section>

    <details class="td-details">
      <summary>Details</summary>
      <div class="td-details-body td-surface">
        <h3>Advanced</h3>
        <p>Import roster/sessions, review raw metrics, and export reports.</p>
      </div>
    </details>
  </main>

  <aside id="td-students-drawer" class="td-drawer hidden" aria-label="Students drawer">
    <div class="td-drawer-head">
      <h3>Students</h3>
      <button id="td-close-students" class="td-btn td-btn-ghost" type="button">Close</button>
    </div>
    <div id="td-drawer-list" class="td-drawer-list"></div>
  </aside>

  <div id="td-tour-overlay" class="td-tour hidden" role="dialog" aria-modal="true" aria-label="Admin demo tour">
    <div id="td-tour-highlight" class="td-tour-highlight"></div>
    <div id="td-tour-card" class="td-tour-card">
      <h4 id="td-tour-title">Admin Demo</h4>
      <p id="td-tour-text"></p>
      <div class="td-tour-actions">
        <button id="td-tour-back" class="td-btn td-btn-ghost" type="button">Back</button>
        <button id="td-tour-next" class="td-btn td-btn-primary" type="button">Next</button>
        <button id="td-tour-exit" class="td-btn td-btn-ghost" type="button">Exit</button>
      </div>
    </div>
  </div>

  <script src="./js/caseload-store.js?v=20260228a" defer></script>
  <script src="./js/session-engine.js?v=20260228a" defer></script>
  <script src="./teacher-dashboard.js?v=20260228e" defer></script>
</body>
</html>
