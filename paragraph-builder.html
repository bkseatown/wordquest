<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Paragraph Builder</title>
  <link rel="icon" href="./favicon.ico" sizes="any">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&family=Nunito:wght@700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./paragraph-builder.css?v=20260227a">
</head>
<body class="writing-studio cs-page-paragraph">
  <main id="pb-root" class="pb-root" aria-label="Paragraph Builder">
    <h1 class="pb-header">Paragraph Builder</h1>

    <section class="pb-card" aria-label="Structured paragraph slots">
      <div class="pb-slot" data-type="topic" contenteditable="true" role="textbox" aria-label="Topic sentence" data-placeholder="Enter topic sentence"></div>
      <div class="pb-slot" data-type="body1" contenteditable="true" role="textbox" aria-label="Body sentence one" data-placeholder="Develop idea"></div>
      <div class="pb-slot" data-type="body2" contenteditable="true" role="textbox" aria-label="Body sentence two" data-placeholder="Add reasoning or detail"></div>
      <div class="pb-slot" data-type="conclusion" contenteditable="true" role="textbox" aria-label="Concluding sentence" data-placeholder="Wrap up"></div>
      <div id="pbCoach" class="pb-coach hidden" aria-live="polite">
        <span id="pbCoachText"></span>
        <button type="button" id="pbCoachDismiss" class="pb-mini-btn">Got it</button>
      </div>
    </section>

    <section id="pb-metrics" class="pb-metrics" aria-label="Paragraph metrics">
      <div class="pb-progress-row">
        <div class="pb-progress-track"><div id="pbProgressFill" class="pb-progress-fill"></div></div>
        <span id="pbProgressLabel">0%</span>
      </div>
      <div class="pb-metric-grid">
        <div class="pb-metric"><span>Topic clarity</span><div class="pb-meter"><div id="pbTopicFill" class="pb-meter-fill"></div></div><b id="pbTopicScore">0</b></div>
        <div class="pb-metric"><span>Reasoning depth</span><div class="pb-meter"><div id="pbReasonFill" class="pb-meter-fill"></div></div><b id="pbReasonScore">0</b></div>
        <div class="pb-metric"><span>Cohesion</span><div class="pb-meter"><div id="pbCohesionFill" class="pb-meter-fill"></div></div><b id="pbCohesionScore">0</b></div>
        <div class="pb-metric"><span>Transition strength</span><div class="pb-meter"><div id="pbTransitionFill" class="pb-meter-fill"></div></div><b id="pbTransitionScore">0</b></div>
      </div>
    </section>

    <section class="pb-actions" aria-label="Paragraph actions">
      <button type="button" id="pbDoneBtn" class="pb-btn hidden">Done</button>
      <button type="button" id="pbResetBtn" class="pb-btn">Try another paragraph</button>
      <button type="button" id="pbHomeBtn" class="pb-btn">Go to Writing Studio home</button>
    </section>

    <div id="pbCompare" class="pb-compare hidden" aria-hidden="true">
      <div class="pb-compare-card">
        <h2>Paragraph Growth</h2>
        <div class="pb-compare-line"><strong>Before:</strong> <span id="pbBeforeText"></span></div>
        <div class="pb-compare-line"><strong>After:</strong> <span id="pbAfterText"></span></div>
        <div class="pb-compare-line" id="pbAfterMetrics"></div>
        <div class="pb-compare-actions">
          <button type="button" id="pbCompareReset" class="pb-btn">Try another paragraph</button>
          <button type="button" id="pbCompareHome" class="pb-btn">Go to Writing Studio home</button>
        </div>
      </div>
    </div>

    <div id="pbDemoSuccess" class="pb-demo-success hidden" aria-hidden="true">
      <div class="pb-compare-card">
        <h2>Demo complete</h2>
        <p>Structured paragraph growth in one loop.</p>
        <div class="pb-compare-actions">
          <button type="button" id="pbDemoReplay" class="pb-btn">Replay demo</button>
          <button type="button" id="pbDemoHome" class="pb-btn">Go to Writing Studio home</button>
        </div>
      </div>
    </div>
  </main>

  <script src="./aiAnalysis.js?v=20260227a" defer></script>
  <script src="./paragraph-builder.js?v=20260227a" defer></script>
</body>
</html>
