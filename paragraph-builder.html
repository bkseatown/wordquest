<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Paragraph Builder</title>
  <link rel="icon" href="./favicon.ico" sizes="any">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&family=Nunito:wght@700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./paragraph-builder.css?v=20260227b">
</head>
<body class="writing-studio cs-page-paragraph">
  <div id="pb-root" class="writing-studio cs-page-paragraph">
    <div class="pb-header">
      <h1>Paragraph Builder</h1>
      <p class="pb-sub">Build connected ideas step by step.</p>
    </div>

    <div class="pb-card ss-card">
      <div class="pb-slot" data-type="topic" contenteditable="true" aria-label="Topic sentence"></div>
      <div class="pb-slot" data-type="body1" contenteditable="true" aria-label="Body sentence 1"></div>
      <div class="pb-slot" data-type="body2" contenteditable="true" aria-label="Body sentence 2"></div>
      <div class="pb-slot" data-type="conclusion" contenteditable="true" aria-label="Conclusion sentence"></div>
    </div>

    <div id="pb-metrics" class="pb-metrics">
      <div class="metric">
        <label>Cohesion</label>
        <div class="metric-bar"><div class="metric-fill" id="metric-cohesion"></div></div>
      </div>
      <div class="metric">
        <label>Reasoning</label>
        <div class="metric-bar"><div class="metric-fill" id="metric-reasoning"></div></div>
      </div>
      <div class="metric">
        <label>Detail</label>
        <div class="metric-bar"><div class="metric-fill" id="metric-detail"></div></div>
      </div>
      <div class="metric">
        <label>Control</label>
        <div class="metric-bar"><div class="metric-fill" id="metric-control"></div></div>
      </div>
    </div>

    <div id="pb-actions" class="pb-actions hidden">
      <button id="pb-done" class="ss-action-btn">Done</button>
    </div>

    <div id="pb-coach" class="pb-coach hidden">
      <div id="pb-coach-text"></div>
      <button id="pb-coach-close">Got it</button>
    </div>
  </div>

  <div id="pb-overlay" class="pb-overlay hidden" aria-hidden="true">
    <div class="pb-overlay-card">
      <h2>Paragraph Complete</h2>
      <div class="pb-overlay-line"><strong>Combined paragraph:</strong> <span id="pb-overlay-paragraph"></span></div>
      <div class="pb-overlay-line" id="pb-overlay-metrics"></div>
      <div class="pb-overlay-actions">
        <button id="pb-overlay-retry" class="ss-action-btn">Try another paragraph</button>
        <button id="pb-overlay-home" class="ss-action-btn">Back to Writing Studio</button>
      </div>
    </div>
  </div>

  <script src="./cache-engine.js?v=20260227a" defer></script>
  <script src="./analytics-engine.js?v=20260227a" defer></script>
  <script src="./ai-service.js?v=20260227a" defer></script>
  <script src="./paragraph-builder.js?v=20260227c" defer></script>
</body>
</html>
