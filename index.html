<!DOCTYPE html>
<html lang="en" data-theme="default" data-case="lower" data-projector="off" data-motion="on">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Word Quest</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Atkinson Hyperlegible: distinct I/l/1, designed for low-vision readers -->
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400&family=Nunito:wght@800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style/modes.css?v=20260222">
  <link rel="stylesheet" href="style/themes.css?v=20260222">
  <link rel="stylesheet" href="style/components.css?v=20260222">
</head>
<body>

  <div id="loading-screen"><div class="spinner"></div><span>Loadingâ€¦</span></div>

  <!-- â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <header>
    <div class="logo">Word<span>Quest</span></div>
    <div class="header-right">
      <button id="settings-btn" class="icon-btn" title="Settings" aria-label="Settings">
        <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </svg>
      </button>
      <button id="new-game-btn">New Word</button>
    </div>
  </header>

  <!-- â”€â”€ Focus bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="focus-bar">
    <span class="focus-label">Focus</span>
    <select id="setting-focus">
      <option value="all">â€” All Words â€”</option>
      <optgroup label="SoR Phonics">
        <option value="cvc">CVC Â· Short Vowels</option>
        <option value="digraph">Digraphs Â· sh, ch, th</option>
        <option value="ccvc">Initial Blends Â· st, bl, tr</option>
        <option value="cvcc">Final Blends Â· mp, nd, st</option>
        <option value="trigraph">Trigraphs Â· tch, dge, igh</option>
        <option value="cvce">Magic E Â· CVCe</option>
        <option value="vowel_team">Vowel Teams Â· ai, ee, oa</option>
        <option value="r_controlled">R-Controlled Â· ar, or, er</option>
        <option value="diphthong">Diphthongs Â· oi, oy, ou</option>
        <option value="floss">FLOSS Rule Â· ff, ll, ss</option>
        <option value="welded">Welded Sounds Â· -ang, -ing</option>
        <option value="schwa">Schwa</option>
        <option value="prefix">Prefixes Â· un-, re-, pre-</option>
        <option value="suffix">Suffixes Â· -ing, -ed, -er</option>
        <option value="compound">Compound Words</option>
        <option value="multisyllable">Multisyllabic Words</option>
      </optgroup>
      <optgroup label="Math"><option value="vocab-math-k2">Math Kâ€“2</option><option value="vocab-math-35">Math 3â€“5</option><option value="vocab-math-68">Math 6â€“8</option><option value="vocab-math-912">Math 9â€“12</option></optgroup>
      <optgroup label="Science"><option value="vocab-science-k2">Science Kâ€“2</option><option value="vocab-science-35">Science 3â€“5</option><option value="vocab-science-68">Science 6â€“8</option><option value="vocab-science-912">Science 9â€“12</option></optgroup>
      <optgroup label="Social Studies"><option value="vocab-social-k2">Social Studies Kâ€“2</option><option value="vocab-social-35">Social Studies 3â€“5</option><option value="vocab-social-68">Social Studies 6â€“8</option><option value="vocab-social-912">Social Studies 9â€“12</option></optgroup>
      <optgroup label="ELA"><option value="vocab-ela-k2">ELA Kâ€“2</option><option value="vocab-ela-35">ELA 3â€“5</option><option value="vocab-ela-68">ELA 6â€“8</option><option value="vocab-ela-912">ELA 9â€“12</option></optgroup>
    </select>
    <span id="focus-hint" class="focus-hint hidden"></span>
  </div>

  <!-- â”€â”€ Settings overlay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="settings-panel" class="settings-panel hidden">
    <div class="settings-header">
      <span>Settings</span>
      <button id="settings-close" class="close-btn" aria-label="Close settings">âœ•</button>
    </div>
    <div class="settings-body">
      <div class="setting-row"><label>Theme<select id="s-theme">
        <optgroup label="Light">
          <option value="default">ğŸŒ¿ Default</option>
          <option value="sunset">ğŸŒ… Sunset</option>
          <option value="ocean">ğŸŒŠ Ocean</option><option value="arctic">â„ï¸ Arctic Blue</option><option value="jungle">ğŸŒ¿ Jungle</option><option value="solar">â˜€ï¸ Solar Gold</option>
          <option value="superman">ğŸ¦¸ Superman</option>
          <option value="marvel">ğŸ’¥ Marvel</option>
        </optgroup>
        <optgroup label="Dark â€” Sports">
          <option value="seahawks">ğŸ¦… Seahawks</option>
          <option value="huskies">ğŸ¾ Huskies</option>
        </optgroup>
        <optgroup label="Dark â€” Pop Culture">
          <option value="ironman">ğŸ”´ Iron Man</option>
          <option value="demonhunter">ğŸŒ¸ Demon Hunter</option>
          <option value="harleyquinn">ğŸƒ Harley Quinn</option>
          <option value="kuromi">ğŸ–¤ Kuromi</option>
          <option value="minecraft">â›ï¸ Minecraft</option>  <option value="pokemon">ğŸ“Ÿ PokÃ©dex</option>  <option value="mario">ğŸ„ Retro Arcade</option>  <option value="starwars">â­ Space Saga</option>  <option value="barbie">ğŸ’– Pop Pink</option></optgroup>
        <optgroup label="Dark â€” Other">
          <option value="dark">ğŸŒ™ Dark</option>
          <option value="coffee">â˜• Coffee</option>
          <option value="matrix">ğŸ’» Matrix</option>
        </optgroup>
      </select></label></div>
      <div class="setting-row"><label>Grade Band<select id="s-grade"><option value="all">All grades</option><option value="K-2">Kâ€“2</option><option value="G3-5">Grades 3â€“5</option><option value="G6-8">Grades 6â€“8</option><option value="G9-12">Grades 9â€“12</option></select></label></div>
      <div class="setting-row"><label>Word Length<select id="s-length"><option value="any">Any</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select></label></div>
      <div class="setting-row"><label>Max Guesses<select id="s-guesses"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6" selected>6</option></select></label></div>
      <div class="setting-row"><label>Letter Case<select id="s-case"><option value="lower">lowercase</option><option value="upper">UPPERCASE</option></select></label></div>
      <div class="setting-row"><label>Phonics Hint<select id="s-hint"><option value="off">Off</option><option value="on">On</option></select></label></div>
      <div class="setting-row"><label>Duplicate Alert<select id="s-dupe"><option value="on">On</option><option value="off">Off</option></select></label></div>
      <div class="setting-row"><label>Win Confetti<select id="s-confetti"><option value="on">On</option><option value="off">Off</option></select></label></div>
      <div class="setting-row"><label>Projector Mode<select id="s-projector"><option value="off">Off</option><option value="on">On Â· high contrast</option></select></label></div>
      <div class="setting-row"><label>Motion<select id="s-motion"><option value="fun">Fun</option><option value="calm">Calm</option><option value="reduced">Reduced</option></select></label></div>
      <div class="setting-row"><label>Feedback Colors<select id="s-feedback"><option value="classic">Classic (green/yellow/gray)</option><option value="themed">Themed (matches theme)</option></select></label></div><div class="setting-row"><label>Music<select id="s-music"><option value="lofi">Loâ€‘fi</option><option value="arcade">8â€‘bit Arcade</option><option value="fantasy">Fantasy</option><option value="scifi">Sciâ€‘fi</option><option value="sports">Sports Hype</option><option value="off">Off</option></select></label></div><div class="setting-row setting-row-full"><label>Music Volume<input id="s-music-vol" type="range" min="0" max="1" step="0.05" value="0.35"></label></div><div class="setting-row setting-row-full"><label>Audio Voice<select id="s-voice"><option value="recorded">Recorded only (recommended)</option><option value="auto">Recorded â†’ device fallback</option><option value="device">Device voice only (beta)</option></select></label></div><div class="setting-row setting-row-full small-help"><button id="voice-help-btn" class="link-btn" type="button">How to improve device voice</button></div>
    </div>
  </div>

  <!-- â”€â”€ Main game area â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <main id="main">

    <!-- Board plate + grid -->
    <div class="board-zone">
      <div class="board-plate">
        <div id="game-board"></div>
      </div>

      <!-- Hear Word / Hear Sentence â€” visible during gameplay like old version -->
      <div class="gameplay-audio">
        <button class="audio-ghost-btn" id="g-hear-word">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/></svg>
          Hear Word
        </button>
        <button class="audio-ghost-btn" id="g-hear-sentence">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          Hear Sentence
        </button>
      </div>
    </div>

    <!-- Keyboard -->
    <div id="keyboard"></div>

  </main>

  <div id="toast" role="alert" aria-live="polite"></div>
  <div id="celebrate-layer" class="celebrate-layer" aria-hidden="true"></div>
  <canvas id="confetti-canvas"></canvas>

  <!-- â”€â”€ End modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="modal-overlay" class="hidden">
    <div id="end-modal" class="hidden" role="dialog" aria-modal="true">
      <div id="modal-result"></div>
      <div id="modal-word"></div>
      <div id="modal-syllables"></div>
      <div id="modal-badge"></div>
      <div id="modal-guesses"></div>
      <div class="modal-divider"></div>
      <p id="modal-def"></p>
      <p id="modal-sentence"></p>
      <div id="modal-fun-wrap"><p id="modal-fun"></p></div>
      <div class="audio-row">
        <button class="audio-btn" id="hear-word-btn">ğŸ”Š Word</button>
        <button class="audio-btn" id="hear-def-btn">ğŸ“– Meaning</button>
        <button class="audio-btn" id="hear-sentence-btn">ğŸ’¬ Sentence</button>
        <button class="audio-btn" id="hear-fun-btn">âœ¨ Fun</button>
      </div>
      <button id="play-again-btn">Play Again â†’</button>
    </div>
  </div>

  
  <!-- â”€â”€ Voice help modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="voice-help-modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Improve device voice">
    <div class="modal-card">
      <div class="modal-head">
        <strong>Improve device voice quality</strong>
        <button id="voice-help-close" class="close-btn" aria-label="Close">âœ•</button>
      </div>
      <div class="modal-body">
        <p><b>Best quality (recommended):</b> use the recorded WordQuest audio whenever available.</p>
        <p>If you must use device voice as a fallback:</p>
        <ul>
          <li><b>iPhone/iPad:</b> Settings â†’ Accessibility â†’ Spoken Content â†’ Voices, download a higherâ€‘quality voice.</li>
          <li><b>Android (Samsung):</b> Settings â†’ Accessibility (or General management) â†’ Textâ€‘toâ€‘speech â†’ install/download highâ€‘quality voices.</li>
          <li><b>Chrome:</b> device voices vary; try switching to a different downloaded voice in your OS settings.</li>
        </ul>
        <p>WordQuest will <b>never autoâ€‘switch</b> to device voice unless you choose a fallback mode.</p>
      </div>
    </div>
  </div>

  <script src="data/words-inline.js"></script>
  <script src="js/data.js?v=20260222"></script>
  <script src="js/audio.js?v=20260222"></script>
  <script src="js/game.js?v=20260222"></script>
  <script src="js/ui.js?v=20260222"></script>
  <script src="js/app.js?v=20260222"></script>
</body>
</html>
